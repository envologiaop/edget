import { NextRequest, NextResponse } from 'next/server'\nimport { auth } from '@/auth'\nimport { prisma } from '@/lib/prisma'\n\nexport async function GET() {\n  const session = await auth()\n  if (!session || (session as any).role !== 'ADMIN') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n  const items = await prisma.tutorRequest.findMany({ where: { status: 'PENDING_ADMIN' }, include: { package: true, teacher: { include: { user: true } }, student: true } })\n  return NextResponse.json({ items })\n}\n\nexport async function PATCH(req: NextRequest) {\n  const session = await auth()\n  if (!session || (session as any).role !== 'ADMIN') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n  const { requestId, approve } = await req.json()\n  if (!requestId) return NextResponse.json({ error: 'Missing requestId' }, { status: 400 })\n  await prisma.tutorRequest.update({ where: { id: requestId }, data: { status: approve ? 'APPROVED' : 'REJECTED' } })\n  return NextResponse.json({ ok: true })\n}\n