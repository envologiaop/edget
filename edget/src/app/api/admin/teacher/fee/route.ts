import { NextRequest, NextResponse } from 'next/server'\nimport { auth } from '@/auth'\nimport { prisma } from '@/lib/prisma'\n\nexport async function POST(req: NextRequest) {\n  const session = await auth()\n  if (!session || (session as any).role !== 'ADMIN') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n  const { feeId, confirm } = await req.json()\n  if (!feeId) return NextResponse.json({ error: 'Missing feeId' }, { status: 400 })\n  const status = confirm ? 'CONFIRMED' : 'REJECTED'\n  const rec = await prisma.teacherFeePayment.update({ where: { id: feeId }, data: { status, reviewedById: (session.user as any).id, reviewedAt: new Date() } })\n  return NextResponse.json({ ok: true, id: rec.id, status })\n}\n